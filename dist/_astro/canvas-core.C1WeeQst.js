import{g as c}from"./index.CH_iu5NA.js";const l=60,u=(()=>{if(window.__canvasBus)return window.__canvasBus;const t=new Set,a=()=>{const r=c.ticker.deltaRatio(l);for(const i of t)i(r)};let e=!1;const s=()=>{e||(c.ticker.add(a),e=!0)},n=()=>{e&&(c.ticker.remove(a),e=!1)},o={subs:t,attached:e,subscribe(r){t.add(r),s()},unsubscribe(r){t.delete(r),t.size===0&&n()}};return window.__canvasBus=o,o})();function b(t){const a=t.getContext("2d"),e=Math.max(1,window.devicePixelRatio||1),s=()=>{const{width:o,height:r}=t.getBoundingClientRect();t.width=Math.max(1,Math.floor(o*e)),t.height=Math.max(1,Math.floor(r*e)),a.setTransform(e,0,0,e,0,0)};s();const n=new ResizeObserver(s);return n.observe(t),{ctx:a,destroy(){n.disconnect()}}}function p(t,a,e,s){const n=t.createLinearGradient(0,0,a,e);n.addColorStop(0,`hsl(${220+Math.sin(s)*30}, 40%, 15%)`),n.addColorStop(1,`hsl(${260+Math.cos(s)*30}, 40%, 8%)`),t.fillStyle=n,t.fillRect(0,0,a,e)}function m(t,a){const s=`data-init-${t.replace(/[^a-z0-9]+/gi,"-").replace(/^-+|-+$/g,"").toLowerCase()}`,n=()=>{document.querySelectorAll(t).forEach(o=>{if(o.hasAttribute(s))return;o.setAttribute(s,"1");const{update:r,destroy:i}=a(o),d=h=>r(h);u.subscribe(d);const f=()=>{u.unsubscribe(d),i(),o.removeAttribute(s)};addEventListener("astro:before-swap",f,{once:!0})})};document.readyState==="loading"?addEventListener("DOMContentLoaded",n,{once:!0}):n(),addEventListener("astro:after-swap",n)}export{p as a,m as d,b as s};
